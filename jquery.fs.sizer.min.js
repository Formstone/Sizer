/*
 * Sizer Plugin [Formstone Library]
 * @author Ben Plum
 * @version 0.1.3
 *
 * Copyright (c) 2013 Ben Plum <mr@benplum.com>
 * Released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 */
 
if(jQuery)(function(b){function e(){return b(this).each(f)}function f(){var a=b(this),a={$sizer:a,$items:a.find(".sizer-item"),updateParent:a.hasClass("sizer-update")||0<a.find(".sizer-update").length,minWidth:a.data("sizer-min-width")||0,diabled:!1,guid:g++};a.$items.wrapInner('<div class="sizer-size" />');a.$sizer.addClass("sizer-ready").data("sizer",a).on("resize.sizer",a,c.resize).trigger("resize.sizer");a.$sizer.find("img").each(function(){var a=b(this);if(a[0].complete)b(this).trigger("resize.sizer"); else a.on("load",function(){b(this).trigger("resize.sizer")})})}function h(a){var b=0;a.$items.css({height:""});if(a.minWidth<Site.maxWidth){for(var c=0;c<a.$items.length;c++){var d=a.$items.eq(c).find(".sizer-size").outerHeight(!0);d>b&&(b=d)}a.$items.css({height:b});a.updateParent&&a.$sizer.css({height:b}).find(".sizer-update").css({height:b})}}var g=0,c={disable:function(){b(this).each(function(){var a=b(this).data("sizer");a.disabled=!0;a.$sizer.off("resize.sizer");a.$items.css({height:""});a.updateParent&& a.$sizer.css({height:""}).find(".sizer-update").css({height:""})})},enable:function(){b(this).each(function(){var a=b(this).data("sizer");a.disabled&&(a.disabled=!1,a.$sizer.on("resize.sizer",a,c.resize).trigger("resize.sizer"))})},resize:function(a){a=a.data;b.doTimeout("sizer-"+a.guid+"-reset",Site.debounceTime,h,a)}};b.fn.sizer=function(a){return c[a]?c[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==typeof a&&a?this:e.apply(this,arguments)}})(jQuery);